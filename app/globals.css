@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-[#0A0A0A] text-white;
    font-feature-settings: "rlig" 1, "calt" 1;
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
}

/* Smooth scrolling for mobile with momentum */
.overflow-x-auto {
  -webkit-overflow-scrolling: touch;
  overscroll-behavior-x: contain;
  scroll-behavior: auto; /* Let native scrolling handle smoothness */
}

/* Hide scrollbar but keep functionality */
.overflow-x-auto::-webkit-scrollbar {
  height: 6px;
}

.overflow-x-auto::-webkit-scrollbar-track {
  background: transparent;
}

.overflow-x-auto::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.1);
  border-radius: 3px;
}

.overflow-x-auto::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.2);
}

/* Hide scrollbar completely */
.scrollbar-hide {
  -ms-overflow-style: none;  /* IE and Edge */
  scrollbar-width: none;  /* Firefox */
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;  /* Chrome, Safari and Opera */
}

@keyframes fadeInSlideUp {
  from {
    opacity: 0;
    transform: translateY(-8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Animation utilities with proper durations and easing */
.animate-fade-in-slide-up {
  animation: fadeInSlideUp 200ms ease-out forwards;
  will-change: transform;
}

/* Button press feedback - apply to buttons without complex transforms */
button:active {
  transform: scale(0.97);
}

/* Buttons with transform transitions should handle their own active state */
button.transform-transition:active {
  transform: scale(0.97);
}

/* Disable hover animations on touch devices */
@media (hover: hover) and (pointer: fine) {
  .hover-transition {
    transition-property: color, background-color, border-color, opacity;
    transition-duration: 150ms;
    transition-timing-function: ease-in-out;
  }

  .hover-transition-fast {
    transition-property: color, background-color, border-color, opacity;
    transition-duration: 100ms;
    transition-timing-function: ease-in-out;
  }
}

/* Transform animations need will-change */
.transform-transition {
  will-change: transform;
  transition-property: transform;
  transition-duration: 200ms;
  transition-timing-function: ease-in-out;
  transform-origin: center;
}

/* Progress bar - linear for time-based */
.progress-bar {
  transition-property: width;
  transition-duration: 300ms;
  transition-timing-function: linear;
}

/* Clerk UserButton dropdown menu fixes */
.cl-userButtonPopoverActionButton,
.cl-userButtonPopoverActionButton:hover,
.cl-userButtonPopoverActionButton:focus {
  color: white !important;
}

.cl-userButtonPopoverActionButtonText,
.cl-userButtonPopoverActionButtonText:hover {
  color: white !important;
}

.cl-userButtonPopoverActionButton:hover {
  background-color: rgba(255, 255, 255, 0.1) !important;
}

/* Custom menu items (like Notifications link) - Force white text everywhere */
.cl-userButtonPopoverCard,
.cl-userButtonPopoverCard *,
.cl-userButtonPopoverActionButton,
.cl-userButtonPopoverActionButton *,
.cl-userButtonPopoverActionButtonText,
.cl-userButtonPopoverActionButtonText *,
[data-cl-user-button-popover] *,
[data-cl-user-button-popover] button,
[data-cl-user-button-popover] a,
[data-cl-user-button-popover] span,
[data-cl-user-button-popover] div {
  color: white !important;
}

/* Hover states - more specific selectors with higher specificity */
.cl-userButtonPopoverCard .cl-userButtonPopoverActionButton:hover,
.cl-userButtonPopoverCard .cl-userButtonPopoverActionButton:hover *,
.cl-userButtonPopoverCard .cl-userButtonPopoverActionButton:focus,
.cl-userButtonPopoverCard .cl-userButtonPopoverActionButton:focus-within,
.cl-userButtonPopoverCard [data-cl-user-button-popover] button:hover,
.cl-userButtonPopoverCard [data-cl-user-button-popover] a:hover,
.cl-userButtonPopoverCard [data-cl-user-button-popover] button:focus,
.cl-userButtonPopoverCard [data-cl-user-button-popover] a:focus,
.cl-userButtonPopoverActionButton:hover,
.cl-userButtonPopoverActionButton:hover *,
.cl-userButtonPopoverActionButton:focus,
.cl-userButtonPopoverActionButton:focus-within,
[data-cl-user-button-popover] button:hover,
[data-cl-user-button-popover] a:hover,
[data-cl-user-button-popover] button:focus,
[data-cl-user-button-popover] a:focus {
  background-color: rgba(255, 255, 255, 0.1) !important;
  background: rgba(255, 255, 255, 0.1) !important;
  color: white !important;
}

/* Force hover background on the button element itself - multiple selectors for maximum coverage */
.cl-userButtonPopoverActionButton:hover,
.cl-userButtonPopoverActionButton:hover::before,
.cl-userButtonPopoverActionButton:hover::after {
  background-color: rgba(255, 255, 255, 0.1) !important;
  background: rgba(255, 255, 255, 0.1) !important;
}

.cl-userButtonPopoverActionButton:focus,
.cl-userButtonPopoverActionButton:focus::before,
.cl-userButtonPopoverActionButton:focus::after {
  background-color: rgba(255, 255, 255, 0.1) !important;
  background: rgba(255, 255, 255, 0.1) !important;
}

/* Also target any button or anchor inside the popover */
.cl-userButtonPopoverCard button:hover,
.cl-userButtonPopoverCard a:hover,
.cl-userButtonPopoverCard button:focus,
.cl-userButtonPopoverCard a:focus {
  background-color: rgba(255, 255, 255, 0.1) !important;
  background: rgba(255, 255, 255, 0.1) !important;
}

/* Make sure icons stay gray */
.cl-userButtonPopoverActionButtonIcon,
.cl-userButtonPopoverActionButtonIcon *,
[data-cl-user-button-popover] svg {
  color: rgb(156, 163, 175) !important; /* gray-400 */
}

/* Clerk verification code inputs - make them visible */
.cl-formFieldInput,
.cl-input,
input[type="text"].cl-formFieldInput,
input[type="email"].cl-formFieldInput {
  background-color: rgba(255, 255, 255, 0.05) !important;
  border: 1px solid rgba(255, 255, 255, 0.2) !important;
  color: white !important;
}

.cl-formFieldInput:focus,
.cl-input:focus {
  background-color: rgba(255, 255, 255, 0.08) !important;
  border-color: rgba(255, 255, 255, 0.3) !important;
}

/* Clerk verification code input fields specifically */
.cl-otpCodeFieldInput {
  background-color: rgba(255, 255, 255, 0.05) !important;
  border: 1px solid rgba(255, 255, 255, 0.2) !important;
  color: white !important;
}

.cl-otpCodeFieldInput:focus {
  background-color: rgba(255, 255, 255, 0.08) !important;
  border-color: rgba(255, 255, 255, 0.3) !important;
}

/* Clerk password toggle icon (eye icon) */
.cl-formFieldInputShowPasswordButton,
.cl-formFieldAction__password {
  color: rgba(255, 255, 255, 0.6) !important;
}

.cl-formFieldInputShowPasswordButton:hover,
.cl-formFieldAction__password:hover {
  color: rgba(255, 255, 255, 0.9) !important;
}

.cl-formFieldInputShowPasswordIcon {
  color: rgba(255, 255, 255, 0.6) !important;
}

.cl-formFieldInputShowPasswordIcon:hover {
  color: rgba(255, 255, 255, 0.9) !important;
}

/* Email code display in verification - only the email address itself */
.cl-identityPreviewText {
  color: white !important;
}

/* Alternative methods button - outline style */
.cl-alternativeMethodsBlockButton {
  background-color: transparent !important;
  border: 1px solid rgba(255, 255, 255, 0.2) !important;
  color: white !important;
}

.cl-alternativeMethodsBlockButton:hover {
  background-color: rgba(255, 255, 255, 0.05) !important;
  border-color: rgba(255, 255, 255, 0.3) !important;
}

.cl-alternativeMethodsBlockButtonText {
  color: white !important;
}

.cl-alternativeMethodsBlockButtonArrow {
  color: white !important;
}
